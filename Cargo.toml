[package]
name = "innr"
version = "0.1.0"
edition = "2021"
rust-version = "1.89"
description = "SIMD-accelerated vector similarity primitives (dot, cosine, norm, maxsim)"
license = "MIT OR Apache-2.0"
repository = "https://github.com/arclabs561/innr"
keywords = ["simd", "vector", "similarity", "dot-product", "cosine"]
categories = ["algorithms", "science"]

[features]
default = []
# ColBERT MaxSim late interaction scoring
maxsim = []
# Sparse vector dot product (sorted index merge)
sparse = []
# All features
full = ["maxsim", "sparse"]

[dependencies]
# No dependencies for core operations - just std

[dev-dependencies]
criterion = { version = "0.5", features = ["html_reports"] }
rand = "0.8"
proptest = "1.4"

[[bench]]
name = "dense"
harness = false

[[bench]]
name = "sparse"
harness = false
required-features = ["sparse"]

[[bench]]
name = "maxsim"
harness = false
required-features = ["maxsim"]

[[bench]]
name = "fast_math"
harness = false

[[bench]]
name = "ternary"
harness = false

[profile.release]
lto = "thin"
codegen-units = 1
# Enable debug symbols for profiling (flamegraph, perf)
debug = 1

[profile.bench]
lto = "thin"
codegen-units = 1
debug = 1

# Maximum optimization for production builds
[profile.release-optimized]
inherits = "release"
lto = "fat"
panic = "abort"
strip = true